<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	<meta charset="utf-8">
	<title>英雄介绍</title>
	<link rel="stylesheet" type="text/css" href="./css/main.css">
	<script src="./js/vue.min.js"></script>
	<style type="text/css">
		/*默认滚动条样式只作用于webkit内核*/
		::-webkit-scrollbar {
		    width: 8px;
		    height: 8px;
		}
		::-webkit-scrollbar-track {
		    border: 1px #d3d3d3 solid;
		    box-shadow: 0px 0px 3px #dfdfdf inset;
		    border-radius: 10px;
		    background: #eee;
		}
		::-webkit-scrollbar-thumb {
		    border: 1px #808080 solid;
		    border-radius: 10px;
		    background: #a98549;
		}
		/* end */
		body {
			background-image: url(./images/bg-heros.png);
			background-size: cover;
		}
		.input-search {
			width: 208px;
			height: 36px;
			margin: 30px auto 0;
			background: #000306;
			border: 2px #785a28 solid;
		}
		.input-search::after {
			display: block;
		    content: '';
		    height: 66px;
		    border-bottom: 1px #1e282d solid;
		}
		.input-search input {
			float: left;
			width: 152px;
		    height: 20px;
		    line-height: 20px;
		    margin-top: 8px;
		    background: #000306;
		    border: 0 none;
		    font-size: 16px;
		    color: #9c9788;
		    outline: none;
		}
		.icon-search, .icon-close {
			width: 20px;
		    height: 20px;
		    margin: 9px 4px 0;
		    background-size: 20px 20px;
		    background-repeat: no-repeat;
		}
		.icon-search {
			float: left;
    		background-image: url(./fonts/search.svg);
		}
		.icon-close {
			float: right;
    		background-image: url(./fonts/close.svg);
		}
		.items-filter::before {
			display: block;
		    content: '';
		    height: 31px;
		}
		.items-filter ul li {
			font-size: 16px;
			height: 22px;
			padding: 20px;
			color: #9c9789;
		}
		.items-filter ul li:hover {
			cursor: pointer;
			background-color: #1e2328;
		}
		.items-filter ul {
			padding: 0;
		}
		.icon-check {
			float: left;
			width: 16px;
			height: 16px;
			margin: 1px 20px 1px 1px;
			border: 2px #785a28 solid;
		}
		.icon-select {
			position: absolute;
			width: 20px;
			height: 20px;
			left: 22px;
			z-index: 99;
			display: none;
			background-size: 20px 20px;
		    background-repeat: no-repeat;
		    background-image: url(./fonts/selected.svg);
		}
		.flex-content {
			display: flex;
		    flex-direction: row;
		    flex-wrap: wrap;
		    justify-content: flex-start;
		    align-items: flex-start;
		}
		.flex-item {
			display: flex;
			flex-direction: column-reverse;
			width: 88px;
			height: 88px;
			background-size: cover;
			background-repeat: no-repeat;
		}
		.hero-box {
			font-size: 10px;
			color: #d8d0bd;
			cursor: pointer;
			text-align: center;
			border: 1px #785a28 solid;
		}
	</style>
</head>
<body>
	<!-- 导航 -->
	<div class="navbars">
		<nav>
			<!-- logo -->
			<div class="nav-left">
	            <a href="index.html" class="nav-logo"></a>
	        </div>
	        <!--  -->
	        <ul>
	        	<li><a href="game.html">游戏介绍</a></li>
	        	<li><a href="guide.html">新手指引</a></li>
	        	<li><a href="hero.html">英雄介绍</a></li>
	        	<li><a href="">视频专区</a></li>
	        </ul>
	        <div class="nav-right">
	        	<a href="login.html" class="nav-download nav-transition">登陆/注册</a>
	        </div>
	        <!-- 移动端导航 -->
	        <div class="nav-bottom">
	        	<div class="opt">
	        		<a href="index.html">首页</a>
	        		<a href="game.html">游戏介绍</a>
	        		<a href="guide.html">新手指引</a>
	        		<a href="hero.html">英雄介绍</a>
	        		<a href="">视频专区</a>
	        	</div>
	        </div>
	        <!-- end 移动端导航 -->
		</nav>
	</div>
	<!-- end 导航-->

	<section class="flex-slide">
		<!-- 此处并没有让他fixed -->
		<div class="slide-box" style="position: absolute;">
			<!-- 搜索框 -->
			<div class="input-search">
				<i class="icon-search"></i>
				<input type="text" placeholder="搜索" id="search" maxlength="8">
				<i class="icon-close"></i>
			</div>
			<!-- 过滤选项 -->
			<div class="items-filter">
				<ul>
					<li><span>刺客</span><i class="icon-check"></i><i class="icon-select"></i></li>
					<li><span>战士</span><i class="icon-check"></i><i class="icon-select"></i></li>
					<li><span>法师</span><i class="icon-check"></i><i class="icon-select"></i></li>
					<li><span>射手</span><i class="icon-check"></i><i class="icon-select"></i></li>
					<li><span>辅助</span><i class="icon-check"></i><i class="icon-select"></i></li>
					<li><span>坦克</span><i class="icon-check"></i><i class="icon-select"></i></li>
				</ul>
			</div>
		</div>
		<!-- 英雄列表 -->
		<div class="content-box" id="heroContainer" style="overflow-y: auto;height: 500px;">
			<div class="flex-content">
				<div class="flex-item hero-box" v-for="hero in heros" :style="{backgroundImage: 'url(' + hero.avatar + ')'}" >
					<span>{{ hero.name }}</span>
				</div>
			</div>
		</div>
		<!-- 渲染数据 -->
		<script src="./js/LOLHeros.js"></script>
		<script>
			// vue实例
			var vm = new Vue({
				el: '#heroContainer',
				data: {
					heros: LOLHeros
				}
			});
		</script>
	</section>

<script>
	window.onload = function () {
		// 按页面显示的顺序来
		var tags = ['Assassin', 'Fighter', 'Mage', 'Marksman', 'Support', 'Tank']

		document.getElementById('search').addEventListener('focus', function () {
			document.querySelector('.input-search').style.border = "2px #c4a361 solid";
		});
		document.getElementById('search').addEventListener('blur', function () {
			document.querySelector('.input-search').style.border = "2px #785a28 solid";
		});
		var items    = document.querySelectorAll('.items-filter>ul>li');
		var selectes = Array.prototype.slice.call(document.querySelectorAll('.icon-select'));
		Array.prototype.forEach.call(items, function (item, index) {
			item.addEventListener('click', function () {
				selectes.forEach(function (s, i) {
					if (i === index) {
						// 选中了第index
						if (!s.style.display || s.style.display === 'none') {
							s.style.display = 'initial'; // 勾选状态
							// 过滤英雄属性
							vm.heros = LOLHeros.filter(function (i) {
								return i.tags.some(function (tag) {
									return tag === tags[index];
								});
							});
						} else {
							// 全选状态
							s.style.display = 'none'; // 非勾选状态
						}
					} else {
						s.style.display = 'none'; // 非勾选状态
					}
				});
			});
		});
	}
</script>
</body>
</html>